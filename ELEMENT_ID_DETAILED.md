# Element ID 상세 설명

## 🤔 Element ID는 고유값이 아닌가요?

### 답: "고유"하지만 "영구적"이지 않습니다!

## 📊 Element ID의 특성

### 1. 세션 내에서는 고유합니다 ✅
```
앱 실행 세션 1:
- 둘러보기 버튼: 37000000-0000-0000-F605-000000000000
- 차트 버튼: 6C000000-0000-0000-F605-000000000000

같은 세션 내에서는:
- 둘러보기 버튼은 항상 37000000-0000-0000-F605-000000000000
- 차트 버튼은 항상 6C000000-0000-0000-F605-000000000000
```

### 2. 앱 재시작 시 변경됩니다 ❌
```
앱 실행 세션 1:
- 둘러보기 버튼: 37000000-0000-0000-F605-000000000000

앱 재시작 후 세션 2:
- 둘러보기 버튼: A1000000-0000-0000-F605-000000000001  ← 변경됨!
```

### 3. 왜 이런 일이 발생하나요?

iOS (XCUITest)에서:
- Element ID는 **런타임에 동적으로 생성**되는 UUID입니다
- 앱이 시작될 때마다 새로운 ID가 할당됩니다
- 이는 iOS의 메모리 관리 및 보안 정책 때문입니다

## 🔍 실제 예시

### 시나리오 1: 같은 세션 내
```robot
# 테스트 시작
${id1}=    Get Element Attribute    id=37000000-0000-0000-F605-000000000000    id
# id1 = 37000000-0000-0000-F605-000000000000

# 잠시 후
${id2}=    Get Element Attribute    id=37000000-0000-0000-F605-000000000000    id
# id2 = 37000000-0000-0000-F605-000000000000  ← 동일!
```

### 시나리오 2: 앱 재시작 후
```robot
# 첫 번째 테스트 실행
Click Element    id=37000000-0000-0000-F605-000000000000  ✅ 성공

# 앱 재시작 후 두 번째 테스트 실행
Click Element    id=37000000-0000-0000-F605-000000000000  ❌ 실패!
# → 요소를 찾을 수 없음 (ID가 변경되었기 때문)
```

## 💡 해결 방법

### ❌ 잘못된 방법 (ID 사용)
```robot
${BROWSE_BUTTON}    37000000-0000-0000-F605-000000000000
Click Element    id=${BROWSE_BUTTON}  # 재시작 시 실패!
```

### ✅ 올바른 방법 (안정적인 속성 사용)

#### 방법 1: Accessibility ID (가장 권장)
```robot
${BROWSE_BUTTON}    browseButton  # 개발자가 설정한 고유 ID
Click Element    accessibility_id=${BROWSE_BUTTON}  # 항상 작동!
```

#### 방법 2: Name 속성
```robot
${BROWSE_BUTTON}    둘러보기  # UI에 표시되는 이름
Click Element    name=${BROWSE_BUTTON}  # 일반적으로 안정적
```

#### 방법 3: XPath 패턴
```robot
${BROWSE_BUTTON}    //XCUIElementTypeButton[@name="둘러보기"]
Click Element    ${BROWSE_BUTTON}  # 구조 기반
```

## 📋 비교표

| 속성 | 세션 내 고유 | 재시작 후 유지 | 테스트 사용 가능 |
|------|------------|--------------|----------------|
| **Element ID** | ✅ | ❌ | ❌ |
| **Accessibility ID** | ✅ | ✅ | ✅ |
| **Name** | ✅ | ✅ | ✅ |
| **XPath** | ✅ | ✅ | ✅ |

## 🎯 결론

- **Element ID는 세션 내에서는 고유하지만, 앱 재시작 시 변경됩니다**
- **테스트 자동화에서는 Element ID를 사용하지 마세요**
- **대신 Accessibility ID, Name, XPath 등 안정적인 속성을 사용하세요**

## 📚 참고

- Element ID는 디버깅이나 Inspector에서 요소를 확인할 때는 유용합니다
- 하지만 테스트 코드에 하드코딩하면 안 됩니다
- Accessibility ID는 개발자가 명시적으로 설정한 고유 식별자이므로 가장 안정적입니다


